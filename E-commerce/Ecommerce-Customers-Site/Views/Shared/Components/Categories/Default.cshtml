@using Shared_ViewModels.Category
@model IList<CategoryVmDto>

<div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
    <ul class="navbar-nav flex-grow-1">
        @foreach (var category in Model)
        {
            <li class="nav-item dropdown">
                @if(category.SubCategories.Count != 0)
                {

                    <a class="nav-link text-dark dropdown-toggle" asp-controller="Category" asp-action="Collections" asp-route-id="@category.Id">
                        @category.Name
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        @foreach(var subcategory in category.SubCategories)
                        {
                            <li><a class="dropdown-item" asp-controller="Category" asp-action="Collections" asp-route-id="@subcategory.Id">@subcategory.Name</a></li>
                        }
                    </ul>
                } else
                {
                    <a class="nav-link text-dark" asp-controller="Category" asp-action="Collections" asp-route-id="@category.Id">
                        @category.Name
                    </a>
                }
            </li>
        }
    </ul>
</div>